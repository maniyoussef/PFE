<!-- problem-category.component.html -->
<div class="admin-dashboard-container">
  <!-- Top Bar -->
  <app-top-bar></app-top-bar>

  <!-- Sidebar Navigation -->
  <app-navbar></app-navbar>

  <!-- Main Content Area -->
  <main class="admin-main-content">
    <div class="problem-category-container">
      <h2 class="problem-category-title">Catégories des Problèmes</h2>

      <!-- Loading Indicator -->
      <div class="spinner-container" *ngIf="isLoading">
        <mat-spinner diameter="50"></mat-spinner>
      </div>

      <div class="problem-category-grid" *ngIf="!isLoading">
        <mat-card
          *ngFor="let category of categories"
          class="problem-category-card"
        >
          <mat-card-content>
            <div class="icon-container">
              <mat-icon>category</mat-icon>
            </div>
            <div class="category-info">
              <h3>{{ category.name }}</h3>
            </div>
            <button
              mat-icon-button
              color="warn"
              class="delete-btn"
              (click)="deleteCategory(category.id!)"
            >
              <mat-icon>delete</mat-icon>
            </button>
          </mat-card-content>
        </mat-card>
      </div>

      <div class="ajouter-category-form">
        <mat-form-field appearance="fill">
          <mat-label>Nom de la catégorie</mat-label>
          <input
            matInput
            [(ngModel)]="newCategoryName"
            placeholder="Entrez le nom de la catégorie"
          />
        </mat-form-field>
        <button
          mat-raised-button
          color="primary"
          (click)="addCategory()"
          [disabled]="!newCategoryName.trim()"
        >
          <mat-icon>add</mat-icon> Ajouter une Catégorie
        </button>
      </div>
    </div>
  </main>
</div>
